compat: v0
id: lnbitslegend-lite
version: 0.1.0
title: "LNBits LITE LEGEND"
description:
  short: "LNbits LEGEND LITE v0.1 BETA, free and open-source lightning-network wallet/accounts system"
  long: "LNbits LEGEND LITE v0.1 BETA, free and open-source lightning-network wallet/accounts system"
release-notes: | 
  - Added SQLite WEB
  - Added options to install python plugins
  Initial release.
#license-info:
#  license: MIT
#  url: https://github.com/deanhowe/embassy-lnbits-wrapper-lite/blob/master/LICENSE
#wrapper-repo: https://github.com/deanhowe/embassy-lnbits-wrapper-lite
#upstream-repo: https://github.com/deanhowe/embassy-lnbits-lite
#support-page: https://t.me/joinchat/Fb4OcRo4LrRD6NXfsNdeeQ
#marketing-page: https://lnbits.moof.uk/
# Alerts: omitting these will result in using the default alerts in EmbassyOS, except for start, which has no default.
install-alert: "LNbits is BETA software  -  this plugin is ALPHA software USE AT YOUR OWN RISK"
uninstall-alert: "LNBITS WALLETS DELETED?"
restore-alert: Hopefully you can restore service and wallets from an Embassy backup?
start-alert: "LNbits is BETA software  -  this plugin is ALPHA software USE AT YOUR OWN RISK"

# Denotes whether this service has an instructions page. If this is true, it will pack in `instructions.md` in the same
# directory as this manifest.yaml
has-instructions: true

# Denotes the version required and recommended
# Required means that the package will not install if unsatisfied
# Recommended means that the package will not be listed by the registry to instances of EmbassyOS that do not satisfy it
min-os-version: "0.3.0"
os-version-required: ">=0.3.0"
os-version-recommended: ">=0.3.0"

#assets: 
#  icon: icon.png

# Port mappings from tor ports to the container port
# if lan is standard, it will proxy HTTP traffic from 443 to the internal port
interfaces:
  main:
    name: Instance I
    tor-config:
      port-mapping:
        5000: "80"
    lan-config:
      5000:
        ssl: true
        mapping: 443
    ui: true
    protocols:
      - tcp
      - http
##  - internal: 5000
##    tor: 80
##    lan: standard
##  - internal: 8080
##    tor: 3456
##    lan:
##      custom:
##        port: 8080
##  - internal: 5001
##    tor: 81
##    lan:
##      custom:
##        port: 81
##  - internal: 5002
##    tor: 82
##    lan:
##      custom:
##        port: 82
##  - internal: 5003
##    tor: 83
##    lan:
##      custom:
##        port: 83
##  - internal: 5004
##    tor: 84
##    lan:
##      custom:
##        port: 84
##  - internal: 5005
##    tor: 85
##    lan:
##      custom:
##        port: 85
#  - internal: 5003
#    tor: 80
# Do not change this
image:
  type: tar

# specifies where on the service's file system its persistence directory should be mounted prior to service startup
mount: /relay

# Directory you would like to expose to dependent services, specified relative to the root of the persistence directory.
# This will be a read-only filesystem for the dependent service
public: public

# Directory you would like to expose to dependent services, specified relative to the root of the persistence directory.
# This will be a read-write filesystem for the dependent service
shared: shared

# Hidden Service version you would like to use for your services .onion url. Allowed options are "v2" and "v3"
hidden-service-version: v3

dependencies:
  lnd:
    version: ">=0.12.1.3 <0.14.0"
    optional: ~
    description: "The LND node you wish to use with LNBits LEGEND"
    mount-public: true
    mount-shared: true
  c-lightning:
    version: ">=0.10.0 <0.11.0"
    description: Used to communicate with the Lightning Network.
    config: []
    mount-shared: true

###   - id: install-c-lightning
##    name: Install addtional C-Lightning Python packages
##    description: This action will install the required C-Lightning Python packages to use LNBits with C-Lightning
##    allowed-statuses:
##      - "RUNNING"
##    command:
##      - /home/lnbits/.local/lnbits_extra_actions
##      - install-c-lightning
##  - id: install-lnd-libraries
##    name: Install addtional Python packages for LND compatibility
##    description: This action will install the required RPC/GRP Python packages to use LNBits with LND
##    allowed-statuses:
##      - "RUNNING"
##    command:
##      - /home/lnbits/.local/lnbits_extra_actions
##      - install-lnd-libraries


actions:
  install-sqlite-web:
    name: Install SQLite Web Interface
    description: This action will start the SQLite Web Interface
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - install-sqlite-web
  start-sqlite-web:
    name: Start SQLite Web Interface
    description: This action will start the SQLite Web Interface
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - start-sqlite-web
  install-nano:
    name: Install Nano
    description: This action will install nano
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - install-nano
  start-linbits:
    name: Start LNBits Instance I
    description: This action will START LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - start-lnbits
  stop-linbits:
    name: Stop LNBits Instance I
    description: This action will STOP LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - stop-lnbits
  start-linbits-5001:
    name: Start LNBits Instance II
    description: This action will START LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - start-lnbits-5001
  stop-linbits-5001:
    name: Stop LNBits Instance II
    description: This action will STOP LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - stop-lnbits-5001
  start-linbits-5002:
    name: Start LNBits Instance III
    description: This action will START LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - start-lnbits-5002
  stop-linbits-5002:
    name: Stop LNBits Instance III
    description: This action will STOP LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - stop-lnbits-5002
  start-linbits-5003:
    name: Start LNBits Instance IV
    description: This action will START LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - start-lnbits-5003
  stop-linbits-5003:
    name: Stop LNBits Instance IV
    description: This action will STOP LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - stop-lnbits-5003
  start-linbits-5004:
    name: Start LNBits Instance V
    description: This action will START LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - start-lnbits-5004
  stop-linbits-5004:
    name: Stop LNBits Instance V
    description: This action will STOP LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - stop-lnbits-5004
  start-linbits-5005:
    name: Start LNBits Instance VI
    description: This action will START LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - start-lnbits-5005
  stop-linbits-5005:
    name: Stop LNBits Instance VI
    description: This action will STOP LNBits
    allowed-statuses:
      - "RUNNING"
    command:
      - /home/lnbits/.local/lnbits_extra_actions
      - stop-lnbits-5005
